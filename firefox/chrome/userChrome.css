/* ------------------------- */
/* Spacing, Padding, Shadows */
/* ------------------------- */

/* Tab Padding */
#tabbrowser-tabs .tabbrowser-tab {
  --tab-border-radius: 20px;
  --tab-block-margin: 6px 4px;
  --tab-min-width: 40px;
  --tab-label-mask-size: 0.75em;
  --inline-tab-padding: 10px;
}

:root {
  --tab-min-height: 28px !important;
  --tab-max-height: 28px !important;
  --delay: 0.5s;
  --transition-time: 0.2s;
  --positionX1: 48px; /* '48px' for left, '0px' for right sidebar */
  --positionX2: absolute;
}

.tab-text {
  font-family: "Roboto Mono";
  font-weight: bold;
}

.tab-icon-stack:is([soundplaying], [muted], [activemedia-blocked]) .tab-icon-image {
    opacity: 0 !important;
}
.tab-icon-overlay:is([soundplaying], [muted], [activemedia-blocked]) {
    opacity: 1 !important;
}
.tab-icon-overlay:is([soundplaying], [muted], [activemedia-blocked]) {
    width: 16px !important;
    height: 16px !important;
}
.tab-secondary-label:is([soundplaying], [muted], [activemedia-blocked], [pictureinpicture]) {
    display: none !important;
}

#TabsToolbar {
  visibility: collapse !important;
}

#toolbar-menubar {
  padding-top: 0px !important;
}

/* Suppress Connecting/Waiting/Reading/Transerring */
#statuspanel[type="status"] {
  display: none !important;
}
/* Suppress Link Destination Overlay */
#statuspanel[type="overLink"] {
  display: none !important;
}

/* Tab Shadows */

.tab-background {
  background-color: rgb(24, 24, 37); 
}

#main-window {
    --toolbar-background: #11111b !important;
}

/* Bookmarks Bar Padding */

#PersonalToolbar {
  padding: 4px;
}

/* Active Address Bar Dropdown */

:root[lwt-default-theme-in-dark-mode]  #urlbar[breakout][breakout-extend] > #urlbar-background {
  border-radius: 20px !important;
  box-shadow: 0px 0px 20px -11px rgba(0,0,0,.2) !important;
}

#urlbar-results {
  font-family: "Roboto Mono";
  font-weight: bold;
}


/* Focused Address/URL Field */

#urlbar-background { 
  /* background-color: rgb(17, 17, 27); */
  background-color: #11111b;
  outline: none !important; 
  box-shadow: none !important
}

/*  -------------  */
/* | NavBar Size | */
/*  -------------  */

#urlbar-input {
  font-family: "Roboto Mono" !important;
  font-weight: bold;
  height: 28px !important;
  text-align: left !important;
}

#urlbar{
  min-height: 28px !important;
}
#urlbar .search-one-offs:not([hidden]) {
  display: none !important;
}

#urlbar-background {
  border-radius: 20px !important;
}


/*  ---------  */
/* | Borders | */
/*  ---------  */

.tabbrowser-tab::after {
  border: 0 !important;
}

#titlebar {
  -moz-box-ordinal-group: 3 !important;
}
.titlebar-spacer[type="pre-tabs"] {
  border: 0 !important;
}
#navigator-toolbox {
  border: 1 !important;
}

.titlebar-spacer[type="pre-tabs"] {
  border: 0 !important;
}

.titlebar-color {
  background-color: rgb(17, 17, 27); 
}

.tabbrowser-tab::after {
  border: 0 !important;
}

#urlbar-background {
  border: 0 !important;
}

#urlbar[open] > .urlbarView > .urlbarView-body-outer > .urlbarView-body-inner {
  border-top: 0 !important;
  font-family: "Roboto Mono";
  font-weight: bold;
}

.urlbarView-url, .search-panel-one-offs-container {
  font-family: "Roboto Mono";
  font-weight: bold;
}

/* Active Tab */

:root:not([lwt-default-theme-in-dark-mode]) .tab-background[selected],
.tab-background[multiselected="true"] {
  background: rgb(41, 44, 60) !important;
}

:root[lwt-default-theme-in-dark-mode] .tab-background[selected],
.tab-background[multiselected="true"] {
  background: rgb(41, 44, 60) !important;
}


/* Navigation Bar Background */

:root:not([lwt-default-theme-in-dark-mode]) #nav-bar {
  background-color: rgb(17, 17, 27) !important;
}

:root[lwt-default-theme-in-dark-mode] #nav-bar {
  background-color: rgb(17, 17, 27) !important;
}

/* Inactive Address/Search Field Background */

:root:not([lwt-default-theme-in-dark-mode]) #urlbar-background {
  background-color: #11111b !important;
}

:root[lwt-default-theme-in-dark-mode] #urlbar-background {
  background: #11111b !important;
}


/* Active Address/Search Field Dropdown */

:root:not([lwt-default-theme-in-dark-mode])  #urlbar[breakout][breakout-extend] > #urlbar-background {
  background: rgb(35, 38, 52) !important;
}

:root[lwt-default-theme-in-dark-mode]  #urlbar[breakout][breakout-extend] > #urlbar-background {
  background: rgb(35, 38, 52) !important;
}


/* Bookmarks Bar */

:root:not([lwt-default-theme-in-dark-mode]) #PersonalToolbar {
  background-color: rgb(48, 52, 70) !important;
}

:root[lwt-default-theme-in-dark-mode] #PersonalToolbar {
  background-color: rgb(48, 52, 70) !important;
}


/* Navigation Bar Separator */

:root[lwt-default-theme-in-dark-mode] #navigator-toolbox {
  border-color:rgb(35, 38, 52) !important;
}

:root:not([lwt-default-theme-in-dark-mode]) #navigator-toolbox {
  border-color:rgb(35, 38, 52) !important;
}

#browser {
    position: relative;
}

#nav-bar, #urlbar {
    z-index: 100;
}

#sidebar-box:not([lwt-sidebar]){
    appearance: unset !important;
}

#sidebar-box[sidebarcommand*="tabcenter"] {
    z-index: 1;
}

#sidebar-box[sidebarcommand*="tabcenter"] #sidebar-header {
    visibility: collapse;
    display: none;
}

[sidebarcommand*="tabcenter"] #sidebar,
#sidebar-box[sidebarcommand*="tabcenter"] {
    min-width: 48px !important;
    max-width: 48px !important;
    width: 48px;
}

#sidebar-box[sidebarcommand*="tabcenter"]:not([hidden]) {
    display: block;
    position: var(--positionX2);
    box-sizing: content-box;
    min-width: 48px;
    max-width: 48px;
    overflow: hidden;
    border-right: 1px solid var(--sidebar-border-color);
    z-index: 1;
    top: 0;
    bottom: 0;
}

#main-window[inFullscreen] #sidebar-box[sidebarcommand*="tabcenter"]:not([hidden]) {
    min-width: 1px;
    max-width: 1px;
}

#sidebar-box[sidebarcommand*="tabcenter"]:hover #sidebar,
#sidebar-box[sidebarcommand*="tabcenter"]:hover {
    min-width: 10vw !important;
    width: 30vw !important;
    max-width: 200px !important;
    z-index: 1 !important;
    transition: all var(--transition-time) ease var(--delay);
}

/* used for delay function */
#sidebar-box[sidebarcommand*="tabcenter"]:not(:hover) #sidebar,
#sidebar-box[sidebarcommand*="tabcenter"]:not(:hover) {
    transition: all var(--transition-time) ease 0s;
}

@media (width >= 1200px) {
    #sidebar-box[sidebarcommand*="tabcenter"]:hover #sidebar,
    #sidebar-box[sidebarcommand*="tabcenter"]:hover {
        max-width: 250px !important;
    }
}

[sidebarcommand*="tabcenter"] ~ #sidebar-splitter {
    display: none;
}

[sidebarcommand*="tabcenter"] #sidebar {
    max-height: 100%;
    height: 100%;
}

#main-window:not([inFullscreen]) #sidebar-box[sidebarcommand*="tabcenter"]:not([hidden]) ~ #appcontent {
    margin-left: var(--positionX1);
}

#main-window[inFullscreen][inDOMFullscreen] #appcontent {
    margin-left: 0;
}

#main-window[inFullscreen] #sidebar {
    height: 100vh;
}

[sidebarcommand*="tabcenter"] #sidebar-header {
    background: #0C0C0D;
    border-bottom: none !important;
}

[sidebarcommand*="tabcenter"] ~ #sidebar-splitter {
    border-right-color: #0C0C0D !important;
    border-left-color: #0C0C0D !important;
}

[sidebarcommand*="tabcenter"] #sidebar-switcher-target,
[sidebarcommand*="tabcenter"] #sidebar-close {
    filter: invert(100%);
}

@media (max-width: 630px) {
    #urlbar-container {
        min-width: 100% !important;
    }

    #menubar-items {
        display: none !important;
    }
}
